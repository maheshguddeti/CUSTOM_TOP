/**************************************************************************************************
* NAME :XXRS_CHASE_OB_PP_DATAFIX_120517-09156.sql                                                 *
* DESCRIPTION :                                                                                   *
* AP Processed Payments refresh                                                                   *
*                                                                                                 *
* AUTHOR       : Vaibhav Goyal                                                                    *
* DATE WRITTEN : 17-May-2012                                                                      *
*                                                                                                 *
* CHANGE CONTROL :                                                                                *
* Version# | Ticket #     |  WHO            | DATE       |   REMARKS                              *
*-------------------------------------------------------------------------------------------------*
* 1.0.0    | 120517-09156 | Vaibhav Goyal   | 11-May-2012 | Initial Creation                      *
***************************************************************************************************/
--  /* $Header: XXRS_CHASE_OB_PP_DATAFIX_120517-09156.sql 1.0.0 17-May-2012 10:54:39 AM Vaibhav Goyal $ */
SET SERVEROUTPUT ON SIZE 1000000;
SET PAGESIZE 300
col file_name   new_value   spool_file_name    noprint
select 'XXRS_CHASE_OB_PP_DATAFIX_120517-09156'||to_char (sysdate, '_mmddyy_hhmiss')||'.log' file_name from dual ;
spool &spool_file_name

PROMPT SQL1: Before Delete

select *
  from xxrs.xxrs_chase_processed_payments x
 where last_update_date between to_date('05/17/2012 14:06:00','MM/DD/RRRR HH24:MI:SS') AND  to_date('05/17/2012 14:07:59','MM/DD/RRRR HH24:MI:SS')
   and check_id in (select check_id from ap.ap_checks_all where checkrun_name = '05182012Eft')
   and check_id not in 
('179401',
'179294',
'179279',
'179420',
'179439',
'179346',
'179389',
'179287',
'179453',
'179428',
'179296',
'179450',
'179368',
'179358',
'179380',
'179386',
'179280',
'179430',
'179310',
'179365',
'179348',
'179360',
'179321',
'179357',
'179431',
'179332',
'179308',
'179274',
'179333',
'179437',
'179316',
'179445',
'179343',
'179395',
'179426',
'179384',
'179267',
'179438',
'179319',
'179452',
'179385',
'179342',
'179362',
'179281',
'179455',
'179388',
'179344',
'179336',
'179406',
'179313',
'179405',
'179442',
'179355',
'179349',
'179390',
'179354',
'179345',
'179373',
'179370',
'179374',
'179317',
'179456',
'179276',
'179402',
'179378',
'179415',
'179416',
'179396',
'179352',
'179433',
'179436',
'179277',
'179411',
'179327',
'179447',
'179409',
'179311',
'179328',
'179271',
'179432',
'179286',
'179377',
'179314',
'179427',
'179347',
'179312',
'179351',
'178361',
'178325',
'168276',
'178422',
'178276',
'178323',
'178406',
'178296',
'178305',
'178348',
'178343',
'178397',
'178329',
'178321',
'178324',
'178366',
'178292',
'178345',
'178355',
'178418',
'178382',
'178393',
'178300',
'178308',
'178271',
'178331',
'179266',
'179337',
'179418',
'179297',
'179307',
'179339',
'179273',
'179364',
'179323',
'179305',
'179434',
'179424',
'179425',
'179315',
'179318',
'179394',
'179322',
'179289',
'179295',
'179331',
'179301',
'179435',
'179404',
'179407',
'179282',
'179275',
'179299',
'179309',
'179284',
'179268',
'179444',
'179325',
'179410',
'179300',
'179451',
'179419',
'179376',
'179387',
'179369',
'179372',
'179449',
'179429',
'179290',
'179381',
'179423',
'179446',
'179408',
'179363',
'179334',
'179298',
'179421',
'179338',
'179293',
'179326',
'179367',
'179272',
'179422',
'179270',
'179383',
'179413',
'179292',
'179341',
'179361',
'179285',
'179379',
'179397',
'179400',
'179371',
'179375',
'179440',
'179403',
'179302',
'179353',
'179306',
'179393',
'179441',
'179329',
'179291',
'179398',
'179399',
'179356',
'179448',
'179350',
'179457',
'179443',
'179324',
'179414',
'179391',
'179392',
'179283',
'179304',
'179288',
'179412',
'179269',
'179330',
'179359',
'179458',
'179303',
'179454',
'179335',
'179278',
'179382',
'179417',
'179320',
'179340',
'179366',
'178295',
'178370',
'178281',
'178351',
'178421',
'178413',
'178352',
'178335',
'178326',
'178350',
'178275',
'178392',
'178320',
'178383',
'178378',
'178398',
'178372',
'178402',
'178294',
'178403',
'178272',
'178400',
'178385',
'178381',
'178322',
'178360',
'178298',
'178287',
'178414',
'178277',
'178297',
'178386',
'178380',
'178319',
'178265',
'178342',
'178367',
'178357',
'178309',
'178306',
'178288',
'178315',
'178293',
'178408',
'178368',
'178279',
'178364',
'178373',
'168269',
'178416',
'178290',
'168280',
'168273',
'178336',
'178339',
'178358',
'178404',
'178412',
'178274',
'178316',
'178394',
'172358',
'178303',
'178423',
'178289',
'178314',
'178284',
'178401',
'168266',
'178375',
'178278',
'178409',
'168268',
'178399',
'178310',
'178328',
'178376',
'178369',
'178333',
'178356',
'178327',
'178354',
'178317',
'168274',
'178410',
'178311',
'178389',
'178269',
'178282',
'178286',
'178267',
'178419',
'178363',
'178273',
'178346',
'178299',
'178340',
'178396',
'178415',
'178384',
'178268',
'178417',
'178349',
'178312',
'178266',
'178388',
'178304',
'178341',
'178371',
'168275',
'178362',
'178313',
'178411',
'178330',
'168277',
'178377',
'178334',
'178387',
'178344',
'178285',
'178280',
'178374',
'178337',
'178338',
'168278',
'168279',
'178391',
'178420',
'178390',
'178407',
'178395',
'178379',
'178307',
'178359',
'168272',
'178291',
'178347',
'178405',
'178270',
'178365',
'178332',
'178301',
'178318',
'178302',
'178353',
'178283');

PROMPT Deleting records from xxrs.xxrs_chase_processed_payments

DELETE 
  from xxrs.xxrs_chase_processed_payments x
 where last_update_date between to_date('05/17/2012 14:06:00','MM/DD/RRRR HH24:MI:SS') AND  to_date('05/17/2012 14:07:59','MM/DD/RRRR HH24:MI:SS')
   and check_id in (select check_id from ap.ap_checks_all where checkrun_name = '05182012Eft')
   and check_id not in 
('179401',
'179294',
'179279',
'179420',
'179439',
'179346',
'179389',
'179287',
'179453',
'179428',
'179296',
'179450',
'179368',
'179358',
'179380',
'179386',
'179280',
'179430',
'179310',
'179365',
'179348',
'179360',
'179321',
'179357',
'179431',
'179332',
'179308',
'179274',
'179333',
'179437',
'179316',
'179445',
'179343',
'179395',
'179426',
'179384',
'179267',
'179438',
'179319',
'179452',
'179385',
'179342',
'179362',
'179281',
'179455',
'179388',
'179344',
'179336',
'179406',
'179313',
'179405',
'179442',
'179355',
'179349',
'179390',
'179354',
'179345',
'179373',
'179370',
'179374',
'179317',
'179456',
'179276',
'179402',
'179378',
'179415',
'179416',
'179396',
'179352',
'179433',
'179436',
'179277',
'179411',
'179327',
'179447',
'179409',
'179311',
'179328',
'179271',
'179432',
'179286',
'179377',
'179314',
'179427',
'179347',
'179312',
'179351',
'178361',
'178325',
'168276',
'178422',
'178276',
'178323',
'178406',
'178296',
'178305',
'178348',
'178343',
'178397',
'178329',
'178321',
'178324',
'178366',
'178292',
'178345',
'178355',
'178418',
'178382',
'178393',
'178300',
'178308',
'178271',
'178331',
'179266',
'179337',
'179418',
'179297',
'179307',
'179339',
'179273',
'179364',
'179323',
'179305',
'179434',
'179424',
'179425',
'179315',
'179318',
'179394',
'179322',
'179289',
'179295',
'179331',
'179301',
'179435',
'179404',
'179407',
'179282',
'179275',
'179299',
'179309',
'179284',
'179268',
'179444',
'179325',
'179410',
'179300',
'179451',
'179419',
'179376',
'179387',
'179369',
'179372',
'179449',
'179429',
'179290',
'179381',
'179423',
'179446',
'179408',
'179363',
'179334',
'179298',
'179421',
'179338',
'179293',
'179326',
'179367',
'179272',
'179422',
'179270',
'179383',
'179413',
'179292',
'179341',
'179361',
'179285',
'179379',
'179397',
'179400',
'179371',
'179375',
'179440',
'179403',
'179302',
'179353',
'179306',
'179393',
'179441',
'179329',
'179291',
'179398',
'179399',
'179356',
'179448',
'179350',
'179457',
'179443',
'179324',
'179414',
'179391',
'179392',
'179283',
'179304',
'179288',
'179412',
'179269',
'179330',
'179359',
'179458',
'179303',
'179454',
'179335',
'179278',
'179382',
'179417',
'179320',
'179340',
'179366',
'178295',
'178370',
'178281',
'178351',
'178421',
'178413',
'178352',
'178335',
'178326',
'178350',
'178275',
'178392',
'178320',
'178383',
'178378',
'178398',
'178372',
'178402',
'178294',
'178403',
'178272',
'178400',
'178385',
'178381',
'178322',
'178360',
'178298',
'178287',
'178414',
'178277',
'178297',
'178386',
'178380',
'178319',
'178265',
'178342',
'178367',
'178357',
'178309',
'178306',
'178288',
'178315',
'178293',
'178408',
'178368',
'178279',
'178364',
'178373',
'168269',
'178416',
'178290',
'168280',
'168273',
'178336',
'178339',
'178358',
'178404',
'178412',
'178274',
'178316',
'178394',
'172358',
'178303',
'178423',
'178289',
'178314',
'178284',
'178401',
'168266',
'178375',
'178278',
'178409',
'168268',
'178399',
'178310',
'178328',
'178376',
'178369',
'178333',
'178356',
'178327',
'178354',
'178317',
'168274',
'178410',
'178311',
'178389',
'178269',
'178282',
'178286',
'178267',
'178419',
'178363',
'178273',
'178346',
'178299',
'178340',
'178396',
'178415',
'178384',
'178268',
'178417',
'178349',
'178312',
'178266',
'178388',
'178304',
'178341',
'178371',
'168275',
'178362',
'178313',
'178411',
'178330',
'168277',
'178377',
'178334',
'178387',
'178344',
'178285',
'178280',
'178374',
'178337',
'178338',
'168278',
'168279',
'178391',
'178420',
'178390',
'178407',
'178395',
'178379',
'178307',
'178359',
'168272',
'178291',
'178347',
'178405',
'178270',
'178365',
'178332',
'178301',
'178318',
'178302',
'178353',
'178283'); 

PROMPT SQL2: After Delete

select *
  from xxrs.xxrs_chase_processed_payments x
 where last_update_date between to_date('05/17/2012 14:06:00','MM/DD/RRRR HH24:MI:SS') AND  to_date('05/17/2012 14:07:59','MM/DD/RRRR HH24:MI:SS')
   and check_id in (select check_id from ap.ap_checks_all where checkrun_name = '05182012Eft')
   and check_id not in 
('179401',
'179294',
'179279',
'179420',
'179439',
'179346',
'179389',
'179287',
'179453',
'179428',
'179296',
'179450',
'179368',
'179358',
'179380',
'179386',
'179280',
'179430',
'179310',
'179365',
'179348',
'179360',
'179321',
'179357',
'179431',
'179332',
'179308',
'179274',
'179333',
'179437',
'179316',
'179445',
'179343',
'179395',
'179426',
'179384',
'179267',
'179438',
'179319',
'179452',
'179385',
'179342',
'179362',
'179281',
'179455',
'179388',
'179344',
'179336',
'179406',
'179313',
'179405',
'179442',
'179355',
'179349',
'179390',
'179354',
'179345',
'179373',
'179370',
'179374',
'179317',
'179456',
'179276',
'179402',
'179378',
'179415',
'179416',
'179396',
'179352',
'179433',
'179436',
'179277',
'179411',
'179327',
'179447',
'179409',
'179311',
'179328',
'179271',
'179432',
'179286',
'179377',
'179314',
'179427',
'179347',
'179312',
'179351',
'178361',
'178325',
'168276',
'178422',
'178276',
'178323',
'178406',
'178296',
'178305',
'178348',
'178343',
'178397',
'178329',
'178321',
'178324',
'178366',
'178292',
'178345',
'178355',
'178418',
'178382',
'178393',
'178300',
'178308',
'178271',
'178331',
'179266',
'179337',
'179418',
'179297',
'179307',
'179339',
'179273',
'179364',
'179323',
'179305',
'179434',
'179424',
'179425',
'179315',
'179318',
'179394',
'179322',
'179289',
'179295',
'179331',
'179301',
'179435',
'179404',
'179407',
'179282',
'179275',
'179299',
'179309',
'179284',
'179268',
'179444',
'179325',
'179410',
'179300',
'179451',
'179419',
'179376',
'179387',
'179369',
'179372',
'179449',
'179429',
'179290',
'179381',
'179423',
'179446',
'179408',
'179363',
'179334',
'179298',
'179421',
'179338',
'179293',
'179326',
'179367',
'179272',
'179422',
'179270',
'179383',
'179413',
'179292',
'179341',
'179361',
'179285',
'179379',
'179397',
'179400',
'179371',
'179375',
'179440',
'179403',
'179302',
'179353',
'179306',
'179393',
'179441',
'179329',
'179291',
'179398',
'179399',
'179356',
'179448',
'179350',
'179457',
'179443',
'179324',
'179414',
'179391',
'179392',
'179283',
'179304',
'179288',
'179412',
'179269',
'179330',
'179359',
'179458',
'179303',
'179454',
'179335',
'179278',
'179382',
'179417',
'179320',
'179340',
'179366',
'178295',
'178370',
'178281',
'178351',
'178421',
'178413',
'178352',
'178335',
'178326',
'178350',
'178275',
'178392',
'178320',
'178383',
'178378',
'178398',
'178372',
'178402',
'178294',
'178403',
'178272',
'178400',
'178385',
'178381',
'178322',
'178360',
'178298',
'178287',
'178414',
'178277',
'178297',
'178386',
'178380',
'178319',
'178265',
'178342',
'178367',
'178357',
'178309',
'178306',
'178288',
'178315',
'178293',
'178408',
'178368',
'178279',
'178364',
'178373',
'168269',
'178416',
'178290',
'168280',
'168273',
'178336',
'178339',
'178358',
'178404',
'178412',
'178274',
'178316',
'178394',
'172358',
'178303',
'178423',
'178289',
'178314',
'178284',
'178401',
'168266',
'178375',
'178278',
'178409',
'168268',
'178399',
'178310',
'178328',
'178376',
'178369',
'178333',
'178356',
'178327',
'178354',
'178317',
'168274',
'178410',
'178311',
'178389',
'178269',
'178282',
'178286',
'178267',
'178419',
'178363',
'178273',
'178346',
'178299',
'178340',
'178396',
'178415',
'178384',
'178268',
'178417',
'178349',
'178312',
'178266',
'178388',
'178304',
'178341',
'178371',
'168275',
'178362',
'178313',
'178411',
'178330',
'168277',
'178377',
'178334',
'178387',
'178344',
'178285',
'178280',
'178374',
'178337',
'178338',
'168278',
'168279',
'178391',
'178420',
'178390',
'178407',
'178395',
'178379',
'178307',
'178359',
'168272',
'178291',
'178347',
'178405',
'178270',
'178365',
'178332',
'178301',
'178318',
'178302',
'178353',
'178283');
